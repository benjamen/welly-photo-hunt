<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wellington Evil-Mode Photo Hunt â€” No Clues + Timer</title>
  <style>
    html, body { height: 100%; }
    body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans";
            background: #0b0f14; color: #e6edf3; }
    a { color: #8ab4f8; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .wrap { min-height: 100%; display: grid; grid-template-rows: auto 1fr auto; }
    header { padding: 16px 20px; display:flex; gap:12px; align-items:center; justify-content:space-between;
              background: linear-gradient(180deg,#0f1622 0%,#0b0f14 100%); border-bottom: 1px solid #1f2a36; position: sticky; top:0; z-index:10; }
    .title { font-size: clamp(18px,2.2vw,24px); font-weight: 700; letter-spacing: .3px; }
    .controls { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .btn { background:#1b2531; border:1px solid #2b3a4b; color:#e6edf3; padding:10px 14px; border-radius:14px; font-weight:600; cursor:pointer; }
    .btn:hover { background:#233142; border-color:#3a4d63; }
    .btn.primary { background:#2563eb; border-color:#1e4fd6; }
    .btn.primary:hover { background:#2b6af0; border-color:#2250c7; }
    .game { max-width:1050px; margin:28px auto; padding:0 20px 28px; display:grid; gap:18px; }
    .card { background: radial-gradient(1200px 600px at 50% -10%, rgba(62,104,155,.18), transparent 60%), #0d141c;
             border:1px solid #182330; border-radius:20px; overflow:hidden; }
    .imageFrame { height: clamp(260px,48vh,520px); background:#0f1722; display:grid; place-items:center; overflow:hidden; position:relative; }
    .cropBox { width:min(88%,820px); height:min(86%,480px); border-radius:18px; overflow:hidden; background-position:center; background-repeat:no-repeat; background-size:cover; border:1px solid rgba(255,255,255,.06);}
    .mask { position:absolute; inset:0; pointer-events:none; background: radial-gradient(60% 70% at 50% 50%, rgba(0,0,0,.12), rgba(0,0,0,.42)); }
    .hud { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:16px 20px; border-top:1px solid #182330; background:#0b0f14; flex-wrap:wrap; }
    .pill { padding:6px 10px; border-radius:999px; background:#14202c; border:1px solid #223142; font-size:14px; opacity:.85; }
    .pill.timer { background:#211b31; border-color:#3b2f63; }
    .answer { padding:14px 18px; margin:0 20px 18px; border-radius:14px; background:#0e1722; border:1px dashed #29415c; display:none; line-height:1.45; font-size:15px; }
    footer { opacity:.7; font-size:12px; padding:14px 20px; text-align:center; border-top:1px solid #182330; }
    .timeup { color:#ffb4a2; font-weight:700; margin-left:8px; display:none; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">ðŸ§© Wellington Evil-Mode Photo Hunt â€” No Clues + Timer</div>
      <div class="controls">
        <button class="btn" id="revealBtn" title="Reveal the answer">Reveal</button>
        <button class="btn" id="nextBtn" title="Next image">Next</button>
        <button class="btn primary" id="shuffleBtn" title="Shuffle & restart">Restart</button>
      </div>
    </header>

    <main class="game">
      <section class="card">
        <div class="imageFrame">
          <div id="crop" class="cropBox" role="img" aria-label="Cropped Wellington landmark"></div>
          <div class="mask"></div>
        </div>
        <div class="hud">
          <div>
            <span class="pill timer" id="timer">30s</span><span class="timeup" id="timeup">Timeâ€™s up!</span>
          </div>
          <div>
            <span class="pill" id="progress">0 / 0</span>
            <span class="pill" id="score">Score: 0</span>
          </div>
        </div>
        <div class="answer" id="answer"></div>
      </section>

      <section class="card" style="padding:14px 18px;">
        <details>
          <summary>How to play</summary>
          <ul>
            <li>Guess the location from the cropped image (<b>no clues</b>).</li>
            <li><b>Reveal</b> shows the answer + link to the <i>full image</i> (and resets the timer).</li>
            <li><b>Next</b> moves on. <b>Restart</b> shuffles the order.</li>
            <li>Timer: 30s per image. Press <kbd>S</kbd> to +1 score.</li>
          </ul>
        </details>
      </section>
    </main>
    <footer>Images are hot-linked from Wikimedia Commons under their stated licenses.</footer>
  </div>

  <script>
    // Helper for Wikimedia Commons hotlinks
    const WIKI = (name) => "https://commons.wikimedia.org/wiki/Special:FilePath/" + encodeURIComponent(name);

    // DATA â€” clues removed; kept as comments for your reference only where useful.
    const items = [
      // 1 Beehive roof â€” adjusted to clearly show a roof segment (not sky)
      { id:"beehive-roof", answer:"The Beehive â€” roof detail",
        url: WIKI("The_Beehive,_Wellington,_2018.jpg"), focusX:54, focusY:22, zoom:560 },

      // 2 Bucket Fountain â€” only half a bucket
      { id:"bucket-fountain", answer:"Bucket Fountain â€” Cuba Street",
        url: WIKI("The_Bucket_Fountain,_Wellington.jpg"), focusX:48, focusY:44, zoom:560 },

      // 3 Cable Car â€” zoom on one rail (mid-route fly-over context)
      { id:"cable-car-track", answer:"Wellington Cable Car â€” track detail",
        url: WIKI("Wellington_Cable_Car_and_motorway.jpg"), focusX:60, focusY:52, zoom:480 },

      // 4 Cuba St rainbow crossing (kept tricky)
      { id:"rainbow-crossing", answer:"Cuba Street Rainbow Crossing",
        url: WIKI("Rainbow_road_crossing.jpg"), focusX:50, focusY:70, zoom:260 },

      // 5 Te Papa exterior â€” top roof panel only
      { id:"te-papa-exterior", answer:"Te Papa Tongarewa â€” exterior panel",
        url: WIKI("Exterior_of_Te_Papa,_2016-01-25.jpg"), focusX:28, focusY:18, zoom:520 },

      // 6 Michael Fowler Centre â€” one timber panel
      { id:"mfc", answer:"Michael Fowler Centre",
        url: WIKI("Michael_Fowler_Centre.jpg"), focusX:62, focusY:22, zoom:480 },

      // 7 Wellington Railway Station clock (already abstract enough)
      { id:"railway-station-clock", answer:"Wellington Railway Station â€” clock & facade",
        url: WIKI("Wellington_Railway_Station_(14071819439).jpg"), focusX:51, focusY:20, zoom:300 },

      // 8 City to Sea Bridge (Para Matchitt sculptures)
      { id:"city-to-sea", answer:"City to Sea Bridge â€” Para Matchitt sculptures",
        url: WIKI("City_to_Sea_MRD_03.jpg"), focusX:55, focusY:40, zoom:300 },

      // 9 Mount Victoria Lookout â€” summit area (kept)
      { id:"mt-victoria-lookout", answer:"Mount Victoria Lookout â€” summit area",
        url: WIKI("Mt_Victoria_Lookout.jpg"), focusX:55, focusY:35, zoom:260 },

      // 10 Carter Fountain â€” base zoom
      { id:"carter-fountain", answer:"Carter Fountain â€” Oriental Bay",
        url: WIKI("Carter_Fountain_in_Oriental_Bay.jpg"), focusX:50, focusY:70, zoom:500 },

      // 11 Parliamentary Library â€” Gothic window detail
      { id:"parliament-library", answer:"Parliamentary Library â€” rose/gothic windows",
        url: WIKI("Parliamentary_library,_Wellington.jpg"), focusX:35, focusY:30, zoom:300 },

      // 12 Supreme Court â€” exterior (cone referenced but exteriors are what CC has)
      { id:"supreme-court", answer:"Supreme Court of New Zealand â€” building",
        url: WIKI("Supreme_court_july.JPG"), focusX:60, focusY:40, zoom:260 },

      // 13 Cable Car tunnel approach
      { id:"cable-car-tunnel", answer:"Wellington Cable Car â€” tunnel approach",
        url: WIKI("Wellington_Cable_Car_Lambton_Quay_Terminal_June_2012.JPG"), focusX:52, focusY:55, zoom:280 },

      // 14 Airport â€” Gollumâ€™s eye only
      { id:"airport-gollum", answer:"Wellington Airport â€” giant Gollum sculpture",
        url: WIKI("Giant_Gollum_sculpture_in_Wellington_Airport.jpg"), focusX:60, focusY:32, zoom:620 },

      // 15 St Gerardâ€™s
      { id:"st-gerards", answer:"St Gerardâ€™s Church and Monastery",
        url: WIKI("St_Gerard's_Monastery,_Wellington,_2010.jpg"), focusX:60, focusY:30, zoom:260 },

      // 16 WELL_NGTON waterfront â€” show only a single letter (extreme zoom)
      { id:"well_ngton", answer:"WELL_NGTON sign â€” Wellington waterfront",
        url: WIKI("Well_ngton_sculpture_2.jpg"), focusX:64, focusY:52, zoom:800 },

      // 17 Roxy Cinema â€” zoom up into the light (no letters)
      { id:"roxy", answer:"Roxy Cinema â€” Miramar",
        url: WIKI("Roxy,_Miramar,_Wellington_(8489576892).jpg"), focusX:41, focusY:26, zoom:650 },

      // 18 Matiu / Somes lighthouse
      { id:"matu-somes", answer:"Matiu / Somes Island â€” lighthouse",
        url: WIKI("Somes_Island_Lighthouse.jpg"), focusX:70, focusY:50, zoom:280 },

      // 19 Botanic Garden sundial
      { id:"botanic-sundial", answer:"Wellington Botanic Garden â€” sundial",
        url: WIKI("Sundial_-_Wellington_Botanic_Garden_-_Wellington,_NZ_-_DSC09428.jpg"), focusX:55, focusY:70, zoom:300 },

      // 20 Zealandia valve tower
      { id:"zealandia-valve-tower", answer:"Zealandia â€” lower reservoir valve tower",
        url: WIKI("Lower_reservoir_valve_tower,_Zealandia.jpg"), focusX:65, focusY:40, zoom:300 }
    ];

    const DEFAULT_SECONDS = 30;
    let deck = [];
    let index = 0;
    let score = 0;
    let timerId = null;
    let seconds = DEFAULT_SECONDS;

    const crop = document.getElementById('crop');
    const ans = document.getElementById('answer');
    const progress = document.getElementById('progress');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const timeupEl = document.getElementById('timeup');

    function shuffle(array) { const a = array.slice(); for (let i=a.length-1;i>0;i--) { const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }

    function setCrop(it) {
      crop.style.backgroundImage = `url('${it.url}')`;
      crop.style.backgroundPosition = `${it.focusX}% ${it.focusY}%`;
      crop.style.backgroundSize = `${it.zoom}% auto`;
    }

    function startTimer() {
      clearInterval(timerId);
      seconds = DEFAULT_SECONDS;
      timerEl.textContent = seconds + "s";
      timeupEl.style.display = 'none';
      timerId = setInterval(() => {
        seconds--;
        timerEl.textContent = seconds + "s";
        if (seconds <= 0) {
          clearInterval(timerId);
          timeupEl.style.display = 'inline';
        }
      }, 1000);
    }

    function stopAndResetTimer() {
      clearInterval(timerId);
      seconds = DEFAULT_SECONDS;
      timerEl.textContent = seconds + "s";
      timeupEl.style.display = 'none';
    }

    function show(i) {
      const it = deck[i];
      setCrop(it);
      ans.style.display = 'none';
      ans.innerHTML = "";
      progress.textContent = `${i+1} / ${deck.length}`;
      scoreEl.textContent = `Score: ${score}`;
      startTimer();
    }

    function next() {
      if (index < deck.length - 1) {
        index++; show(index);
      } else {
        // finished
        stopAndResetTimer();
      }
    }

    function reveal() {
      const it = deck[index];
      ans.style.display = ans.style.display === 'none' ? 'block' : 'none';
      ans.innerHTML = `<b>Answer:</b> ${it.answer}<br><a href="${it.url}" target="_blank" rel="noopener">Open the full image</a>`;
      stopAndResetTimer(); // reset timer on reveal
    }

    function restart() {
      deck = shuffle(items);
      index = 0; score = 0; show(index);
    }

    document.addEventListener('keydown', (e) => {
      const k = e.key.toLowerCase();
      if (k === 'n') next();
      if (k === 'r') restart();
      if (k === 's') { score++; scoreEl.textContent = `Score: ${score}`; }
    });
    document.getElementById('nextBtn').addEventListener('click', next);
    document.getElementById('revealBtn').addEventListener('click', reveal);
    document.getElementById('shuffleBtn').addEventListener('click', restart);
    restart();
  </script>
</body>
</html>
